DROP TABLE IF EXISTS consulta;

CREATE TABLE consulta(
    num_consulta SERIAL NOT NULL,
	data_consulta DATE,
    hora_consulta TIME,
	cpf_profissional BIGINT NOT NULL,
	cpf_cliente BIGINT NOT NULL,
	cancelada bool DEFAULT FALSE,
	CONSTRAINT PK_CONSULTA PRIMARY KEY (num_consulta),
	CONSTRAINT FK_CONSULTA_PROFISSIONAL FOREIGN KEY (cpf_profissional)
		REFERENCES profissional(cpf),
	CONSTRAINT FK_CONSULTA_CLIENTE FOREIGN KEY (cpf_cliente)
		REFERENCES cliente(cpf)
);

select cpf_cliente from consulta;
SELECT c.email FROM cliente as c INNER JOIN consulta as cons ON c.cpf = cons.cpf_cliente WHERE cons.cancelada = false;
INSERT INTO CONSULTA VALUES (DEFAULT,'2022-07-08', '10:00', 127127127255, 11111111190, FALSE);
INSERT INTO CONSULTA VALUES (DEFAULT, '2022-07-22','07:00',127127127255, 11111111190, TRUE);
INSERT INTO CONSULTA VALUES (DEFAULT, '2022-07-24','16:00',255255255127, 11122233390, FALSE);
INSERT INTO CONSULTA VALUES (DEFAULT, '2022-07-25','18:00',127127127255, 11122233390, FALSE);
INSERT INTO CONSULTA VALUES (DEFAULT, '2022-07-30','15:00',255255255127, 11122233390, FALSE);
INSERT INTO consulta (num_consulta,data_consulta,hora_consulta,cpf_profissional,cpf_cliente,cancelada)
VALUES
  (DEFAULT,'2001-02-17','08:00:00','85945877804','44026018406','True'),
  (DEFAULT,'2005-03-05','08:00:00','31054678931','13355130461','False'),
  (DEFAULT,'1986-09-06','09:00:00','95019741217','65426014386','True'),
  (DEFAULT,'1988-05-17','09:00:00','85945877804','93353147702','True'),
  (DEFAULT,'1995-01-06','10:00:00','80029196223','99935432318','False'),
  (DEFAULT,'1982-08-19','09:00:00','18566785094','48051809617','True'),
  (DEFAULT,'2012-12-23','10:00:00','61385903802','15101282816','True'),
  (DEFAULT,'2015-01-09','10:00:00','61596129743','23200988990','False'),
  (DEFAULT,'1973-09-26','08:00:00','43433452272','10573769758','False'),
  (DEFAULT,'1999-01-30','10:00:00','43433452272','15101282816','False');
INSERT INTO consulta (num_consulta,data_consulta,hora_consulta,cpf_profissional,cpf_cliente,cancelada)
VALUES
  (DEFAULT,'2016-09-01','08:00:00','28369710230','76013513687','True'),
  (DEFAULT,'2011-06-20','10:00:00','73977901327','16455462570','False'),
  (DEFAULT,'2012-01-12','08:00:00','73977901327','30700810822','True'),
  (DEFAULT,'1988-04-07','09:00:00','95019741217','66614549500','True'),
  (DEFAULT,'2001-01-06','08:00:00','45453916414','51426940790','False'),
  (DEFAULT,'1975-05-07','09:00:00','18566785094','55870267949','True'),
  (DEFAULT,'2005-07-09','10:00:00','61596129743','28813665860','True'),
  (DEFAULT,'1977-06-15','08:00:00','70265255465','66614549500','True'),
  (DEFAULT,'2015-11-23','10:00:00','45453916414','65426014386','False'),
  (DEFAULT,'1984-09-15','10:00:00','45453916414','10189087447','True');


